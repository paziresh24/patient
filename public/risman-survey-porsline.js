(function(){"use strict";var e="transitionData",t="rismanSurveyOverlay_iframe_porsline_v1",n="risman-survey-css-porsline-v1",o="https://survey.porsline.ir/s/CA0z9O8",i=333;function r(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length)}return null}function a(e){if(!e)return"";var t=e.replace(/\+/g,"%20");try{return decodeURIComponent(t)}catch(e){return t}}function c(e){for(var t="Thu, 01 Jan 1970 00:00:00 GMT",n=["",".paziresh24.com","paziresh24.com","www.paziresh24.com"],o=0;o<n.length;o++){var i=n[o]?"; domain="+n[o]:"";document.cookie=e+"=; expires="+t+"; path=/"+i,document.cookie=e+"=; Max-Age=0; path=/"+i}}function s(){if(!document.getElementById(n)){var e=document.createElement("style");e.id=n,e.textContent=".rs-overlay{position:fixed;inset:0;z-index:2147483647;background:rgba(20,20,20,.72);display:flex;align-items:center;justify-content:center;padding:16px}.rs-container{position:relative;background:#fff;border-radius:14px;overflow:hidden;box-shadow:0 18px 50px rgba(0,0,0,.35)}.rs-close{position:absolute;top:10px;right:10px;width:36px;height:36px;border-radius:999px;border:none;cursor:pointer;background:rgba(0,0,0,.55);color:#fff;font-size:18px;line-height:36px;z-index:3}.rs-loader{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:#fff;z-index:2}.rs-dots{display:inline-flex;gap:8px}.rs-dot{width:10px;height:10px;border-radius:999px;background:#111;opacity:.25;animation:rsDot 1s infinite}.rs-dot:nth-child(2){animation-delay:.15s}.rs-dot:nth-child(3){animation-delay:.30s}@keyframes rsDot{0%,80%,100%{transform:translateY(0);opacity:.25}40%{transform:translateY(-6px);opacity:.9}}",document.head.appendChild(e)}}function l(e){if(!e)return"";return e.indexOf("%25")!==-1&&function(e){try{return decodeURIComponent(e)}catch(e){return e}}(e),e.replace(/\+/g,"%20")}function u(e){if(!e)return"";try{e=decodeURIComponent(e)}catch(e){}return String(e).trim()}function d(e){for(var t=(e||location.pathname).split("/").filter(Boolean),n=0;n<t.length;n++)if("dr"===t[n])return t[n+1]||"";return""}function f(e,t){for(var n=(e||location.pathname).split("/").filter(Boolean),o=0;o<n.length;o++)if(n[o]===t)return!0;return!1}function v(e){var t=[];t.push("source="+encodeURIComponent(e.source||"search")),t.push("terminal-id="+encodeURIComponent(e.terminalId||""));var n=l(e.destinationSiteTitleEncoded),i=l(e.destinationDoctorNameEncoded);return n&&t.push("site-title="+n),i&&t.push("dr-name="+i),o+"?"+t.join("&")}function m(){var e=document.getElementById(t);if(e){var n=e.querySelector("iframe");n&&(n.src="about:blank"),e.remove(),document.body.style.overflow="",window.removeEventListener("keydown",p,!0)}}function p(e){"Escape"===e.key&&(e.preventDefault(),m())}function g(){if(!document.getElementById(t)){var n=r(e);if(n){var o=a(n),i=null;try{i=JSON.parse(o)}catch(t){return void c(e)}var l=location.pathname||"",h=f(l,"dr"),y=f(l,"s");if(h){var b=u(i.slug);if(!b)return;var k=u(d(l));if(!k||k!==b)return}if(h||y){c(e);var E=v(i);s();var w=window.matchMedia("(max-width: 480px)").matches,x=document.createElement("div"),S=document.createElement("div"),L=document.createElement("button"),A=document.createElement("div"),C=document.createElement("iframe");x.id=t,x.className="rs-overlay",S.className="rs-container",S.style.width=w?"88vw":"560px",S.style.height=w?"50vh":"620px",L.className="rs-close",L.textContent="âœ•",L.onclick=m,A.className="rs-loader",A.innerHTML='<div class="rs-dots"><span class="rs-dot"></span><span class="rs-dot"></span><span class="rs-dot"></span></div>',C.src=E,C.style.cssText="width:100%;height:100%;border:0;opacity:0;transition:opacity .25s",C.onload=function(){A.parentNode&&A.remove(),C.style.opacity="1",L.focus()},S.appendChild(L),S.appendChild(A),S.appendChild(C),x.appendChild(S),document.body.appendChild(x),document.body.style.overflow="hidden",window.addEventListener("keydown",p,!0),L.focus()}}}}setInterval(g,i),function(){var e=history.pushState,t=history.replaceState;function n(){setTimeout(g,0)}history.pushState=function(){var t=e.apply(this,arguments);return n(),t},history.replaceState=function(){var e=t.apply(this,arguments);return n(),e},window.addEventListener("popstate",n),window.addEventListener("hashchange",n),window.addEventListener("pageshow",n),document.addEventListener("visibilitychange",function(){"visible"===document.visibilityState&&n()})}(),g()})();